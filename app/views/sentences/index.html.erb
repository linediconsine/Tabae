<%= javascript_pack_tag 'voice' %>
<%= javascript_pack_tag 'serviceworker-companion' %>

    <% if user_signed_in?  %>
            <% if @folder %>
                <nav aria-label="breadcrumb">
                <ol class="breadcrumb bg-dark ">
                    <li class="breadcrumb-item text-light  px-3 small"><a class="text-light" href="/">
                    
<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-house-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
  <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
</svg>


 Home</a></li>
                    <li class="breadcrumb-item active text-light small" aria-current="page">
                    <a class="text-light text-capitalize   px-3 active " href="#">
                     <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-folder" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.828 4a3 3 0 0 1-2.12-.879l-.83-.828A1 1 0 0 0 6.173 2H2.5a1 1 0 0 0-1 .981L1.546 4h-1L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3v1z"/>
        <path fill-rule="evenodd" d="M13.81 4H2.19a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4zM2.19 3A2 2 0 0 0 .198 5.181l.637 7A2 2 0 0 0 2.826 14h10.348a2 2 0 0 0 1.991-1.819l.637-7A2 2 0 0 0 13.81 3H2.19z"/>
    </svg> 

                     <%= @folder %></a></li>
                </ol>
                </nav>
                <% else %>
                <nav aria-label="breadcrumb">
                <ol class="breadcrumb bg-dark">
                    <li class="breadcrumb-item   active px-3 small" aria-current="page"><a class="text-light" href="#">
                    
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-house-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
  <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
</svg>

Home</a></li>
                </ol>
                </nav>
            <% end %>
        <% end %>

<% if user_signed_in? %>
<div class="nav nav-pills" id="nav-tab" role="tablist">

   <a class="nav-link text-capitalize  mr-3" id="nav-group-tab" data-toggle="tab" href="#nav-group" role="tab" aria-controls="nav-group" aria-selected="false">
   
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-folder" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.828 4a3 3 0 0 1-2.12-.879l-.83-.828A1 1 0 0 0 6.173 2H2.5a1 1 0 0 0-1 .981L1.546 4h-1L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3v1z"/>
            <path fill-rule="evenodd" d="M13.81 4H2.19a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4zM2.19 3A2 2 0 0 0 .198 5.181l.637 7A2 2 0 0 0 2.826 14h10.348a2 2 0 0 0 1.991-1.819l.637-7A2 2 0 0 0 13.81 3H2.19z"/>
        </svg> <%= t "group" %>
    
    </a>


    <a class="nav-link active text-capitalize" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">
    <%= t "sentences" %>
    </a>
 
    <a class="nav-link text-capitalize btn btn-dark" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false"><%= t "new_sentence" %></a>  
</div>

<% end %>

<div class="tab-content" id="nav-tabContent">
    <section class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">

        <div class="fluid-container pt-3">
            <div class="row" id="main">


                <%  if @sentences.empty? %>
                <div class="m-auto py-3">
                    <section class="card p-3 bg-dark">
                        <div class="row">
                            <div class="col-6 m-auto">
                                <%= image_tag("home.png", :alt => "A person sitting on a desk using a computer", :style => "width:80%") %>
                            </div>

                            <div class="col-6 m-auto">
                                <p>Hi there!<br> You don't have any sentence.</p>
                            </div>
                        </div>

                    </section>
                </div>
                <% else %>
                    


                    <% @sentences.each_with_index do |sentence,index| %>
                    <div class="col-lg-2 mr-2 mb-2">
                        <div class="card bg-dark a-white">
                            <a class="d-block view overlay zoom" id="sentence_<%= index %>" href="" onClick="voice('<%= escape_javascript sentence.sentence %>')">
                                <div class="card-body">
                                    <p class="card-text" style="height: 80pt;overflow: hidden;text-align: center;"><%= truncate(sentence.sentence, :length => 30) %> </p>
                                </div>
                            </a>

                            <div class="card-footer small" style="padding: 7px 10px">
                                <%= link_to t('edit'), edit_sentence_path(sentence) , class: "card-link float-right"%>
                            </div>
                        </div>
                    </div>
                    <% end %>

                <% end %>
            </div>
        </div>


    </section>

    <section class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
        <div id="new" class="pt-3">
            <%= render 'form', sentence: @sentence %>
          </div>
    </section>
    
    <section class="tab-pane fade" id="nav-group" role="tabpanel" aria-labelledby="nav-group-tab">

           <div class="row pt-2" id="group">
                <% @groups.each_with_index do |group,index| %>
                    <% if group != "" and group != @groups.last %>
                    <div class="col-lg-2  mr-2 mb-2">
                            <div class="card bg-info a-white">
                                <a class="d-block p-1 view overlay zoom">
                                    <div class="card-body text-center">
                                        
                                        <a href="<%= sentences_path(:group => group) %>"  class="d-block">
                                       
                                        <p class="card-text">
                                        <div class="h1">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-folder" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9.828 4a3 3 0 0 1-2.12-.879l-.83-.828A1 1 0 0 0 6.173 2H2.5a1 1 0 0 0-1 .981L1.546 4h-1L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3v1z"/>
                                            <path fill-rule="evenodd" d="M13.81 4H2.19a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4zM2.19 3A2 2 0 0 0 .198 5.181l.637 7A2 2 0 0 0 2.826 14h10.348a2 2 0 0 0 1.991-1.819l.637-7A2 2 0 0 0 13.81 3H2.19z"/>
                                        </svg> 
                                        </div>
                                        
                                              <%= group %>
                                         </p>
                                          </a>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <% end %>
                <% end %>
          </div>
    </section>

    <section class="tab-pane fade" id="nav-icons" role="tabpanel" aria-labelledby="nav-icons-tab">
        <i class="fas fa-toilet"></i>


        <i class="fa fa-car"></i>
        <i class="fa fa-car" style="font-size:48px;"></i>
        <i class="fa fa-car" style="font-size:60px;color:red;"></i>

    </section>
</div>
<script>
    //if (localStorage.getItem("_m_tabae") == null){
    stored = <%= raw @sentences.to_json() %> ;
    localStorage.setItem("_m_tabae", JSON.stringify(stored));
    //}
</script>